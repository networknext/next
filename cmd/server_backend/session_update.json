{
  "type": "record",
  "name": "session_update",
  "namespace": "com.networknext.avro",
  "fields" : [
    {"name": "timestamp",                             "type": {"type": "long", "logicalType": "timestamp-micros"}},
    {"name": "session_id",                            "type": "long"},
    {"name": "slice_number",                          "type": "int"},
    {"name": "real_packet_loss",                      "type": "float"},
    {"name": "real_jitter",                           "type": "float"},
    {"name": "real_out_of_order",                     "type": "float"},
    {"name": "session_events",                        "type": "long"},
    {"name": "internal_events",                       "type": "long"},
    {"name": "direct_rtt",                            "type": "float"},
    {"name": "direct_jitter",                         "type": "float"},
    {"name": "direct_packet_loss",                    "type": "float"},
    {"name": "direct_kbps_up",                        "type": "int", "default": 0},
    {"name": "direct_kbps_down",                      "type": "int", "default": 0},
    {"name": "next",                                  "type": "boolean"},
    {"name": "next_rtt",                              "type": "float"},
    {"name": "next_jitter",                           "type": "float"},
    {"name": "next_packet_loss",                      "type": "float"},
    {"name": "next_kbps_up",                          "type": "int", "default": 0},
    {"name": "next_kbps_down",                        "type": "int", "default": 0},
    {"name": "next_predicted_rtt",                    "type": "float"},
    {"name": "next_route_relays",                     "type": {"type": "array", "items": "long"} },
    {"name": "fallback_to_direct",                    "type": "boolean"},
    {"name": "reported",                              "type": "boolean"},
    {"name": "latency_reduction",                     "type": "boolean"},
    {"name": "packet_loss_reduction",                 "type": "boolean"},
    {"name": "force_next",                            "type": "boolean"},
    {"name": "long_session_update",                   "type": "boolean"},
    {"name": "veto",                                  "type": "boolean"},
    {"name": "disabled",                              "type": "boolean"},
    {"name": "not_selected",                          "type": "boolean"},
    {"name": "a",                                     "type": "boolean"},
    {"name": "b",                                     "type": "boolean"},
    {"name": "delta_time_min",                        "type": "float", "default": 0.0},
    {"name": "delta_time_max",                        "type": "float", "default": 0.0},
    {"name": "delta_time_avg",                        "type": "float", "default": 0.0},
    {"name": "server_id",                             "type": "long",  "default": 0},
    {"name": "game_rtt",                              "type": "float", "default": 0.0},
    {"name": "game_jitter",                           "type": "float", "default": 0.0},
    {"name": "game_packet_loss",                      "type": "float", "default": 0.0},
    {"name": "bandwidth_kbps_up",                     "type": "int", "default": 0},
    {"name": "bandwidth_kbps_down",                   "type": "int", "default": 0},
    {"name": "flags",                                 "type": "long", "default": 0},

    {"name": "latency_worse",                         "type": "boolean", "default": false},
    {"name": "mispredict",                            "type": "boolean", "default": false},
    {"name": "lack_of_diversity",                     "type": "boolean", "default": false},
    {"name": "client_next_bandwidth_over_limit",      "type": "boolean", "default": false},
    {"name": "server_next_bandwidth_over_limit",      "type": "boolean", "default": false}
  ]
}
