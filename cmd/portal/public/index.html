<html>
    <head>
        <meta http-equiv='cache-control' content='no-cache'>
        <meta http-equiv='expires' content='0'>
        <meta http-equiv='pragma' content='no-cache'>

        <title>Network Next</title>
        <link rel="icon" href="/favicon.ico">

        <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet"
              href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
              integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
              crossorigin="anonymous">
        <link rel="stylesheet"
              href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
              integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
              crossorigin="anonymous">
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
        <link rel="stylesheet" href="./js/uPlot/uPlot.min.css">
        <!-- Include Choices CSS -->
        <link rel="stylesheet" href="./js/choices/styles/choices.min.css" />
        <style>
            .switch {
                position: relative;
                display: inline-block;
                width: 60px;
                height: 24px;
            }
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }
            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                -webkit-transition: .4s;
                transition: .4s;
            }
            .slider:before {
                position: absolute;
                content: "";
                height: 16px;
                width: 16px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                -webkit-transition: .4s;
                transition: .4s;
            }
            input:checked + .slider {
                background-color: #007bff;
            }
            input:focus + .slider {
                box-shadow: 0 0 1px #007bff;
            }
            input:checked + .slider:before {
                -webkit-transform: translateX(36px);
                -ms-transform: translateX(36px);
                transform: translateX(36px);
            }
            .slider.round {
                border-radius: 34px;
            }
            .slider.round:before {
                border-radius: 50%;
            }
            .map-container-offset {
                width: 100%;
                height: calc(-160px + 90vh);
                position: relative;
                overflow: hidden;
            }
            .map-container-no-offset {
                width: 100%;
                height: calc(-160px + 100vh);
                position: relative;
                overflow: hidden;
            }
            .map {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid rgb(136, 136, 136);
                background-color: rgb(27, 27, 27);
                overflow: hidden;
            }
            #deck-canvas {
                position: absolute;
                top: 0;
                left: 0;
            }
            #deckgl-overlay {
                width: inherit !important;
                height: inherit !important;
            }
            .uplot .legend.inline th::after {
                content: "";
                vertical-align: middle;
            }
            .choices__list--multiple .choices__item {
                background-color: lightgray;
                border: 1px solid darkgray;
                color: black;
                border-radius: 5px;
            }
            .choices[data-type*="select-multiple"] .choices__button, .choices[data-type*="text"] .choices__button {
                border-left: 0px;
                color: black;
            }
            .choices__item .is-highlighted {
                background-color: lightgray;
                border: 1px solid darkgray;
                color: black;
            }
            .fill {
                width: 100%;
                height: 100%;
            }
            .dashboard-title {
                width: 95%;
            }
            .workspace {
                width: 100%;
                justify-content: center;
            }
            .map {
                height: 95%;
                max-height: 1000px;
            }
            .mapboxgl-canvas {
                height: 100%;
                width: 100%;
            }
            .mapboxgl-map {
                height: 100%;
                width: 100%;
            }
            #session-tool-map { position: absolute; top: 0; bottom: 0; width: 100%; }
            body {
                font-size: 0.875rem;
            }

            .feather {
                width: 16px;
                height: 16px;
                vertical-align: text-bottom;
            }
            .logo-container {
                width: 100%;
                height: 24px;
                margin: 0;
                padding: 0;
                display: flex;
                align-items: center;
                justify-content: left;
            }
            .logo-fit {
                max-height: 24px;
                max-width: 100%;
            }
            .fixed-width {
                font-family: monospace;
                font-size: 120%;
            }
            .hidden {
                display: none;
            }
            div.table-no-top-line th {
                border-top: none !important;
            }
            .mapboxgl-ctrl-bottom-left {
                display: none;
            }
            .mapboxgl-ctrl-bottom-right {
                display: none;
            }
            .h2 {
                font-size: 2rem;
            }

            /*
            * Sidebar
            */

            .sidebar {
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                z-index: 100; /* Behind the navbar */
                padding: 48px 0 0; /* Height of navbar */
                box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
            }

            .sidebar-sticky {
                position: relative;
                top: 0;
                height: calc(100vh - 48px);
                padding-top: 0.5rem;
                overflow-x: hidden;
                overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
            }

            @supports ((position: -webkit-sticky) or (position: sticky)) {
                .sidebar-sticky {
                    position: -webkit-sticky;
                    position: sticky;
                }
            }

            .sidebar .nav-link {
                font-weight: 500;
                color: #333;
            }

            .sidebar .nav-link .feather {
                margin-right: 4px;
                color: #999;
            }

            .sidebar .nav-link.active {
                color: #007bff;
            }

            .sidebar .nav-link:hover .feather,
            .sidebar .nav-link.active .feather {
                color: inherit;
            }

            .sidebar-heading {
                font-size: 0.75rem;
                text-transform: uppercase;
            }
            .signup {
                width: 6rem;
                height: 1.7rem;
                display: block;
                text-align: center;
                border-radius: 9999px;
                background-color: #f94a21;
                font-weight: bold;
                line-height: 1.1rem;
            }
            .signup:hover {
                text-decoration: none;
                background-color: #f94a21e6;
            }
            .signup:not(:disabled):not(.disabled):active {
                background-color: #007bff;
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
            .signup:focus {
                background-color: #007bff;
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
            .login {
                width: 6rem;
                height: 1.7rem;
                display: block;
                border-width: 1px;
                border-color: #f94a21;
                border-radius: 9999px;
                text-align: center;
                background-color: #343a40;
                border-style: solid;
                font-weight: bold;
                line-height: 1rem;
            }
            .login:hover {
                background-color: rgba(249, 73, 33, 0.1);
                text-decoration: none;
                border-color: #f94a21;
            }
            .login:not(:disabled):not(.disabled):active {
                background-color: #343a40;
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
            .login:focus {
                background-color: rgba(0, 123, 255, 0.1);
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
            .logout {
                width: 6rem;
                height: 1.7rem;
                display: block;
                border-width: 1px;
                border-color: #f94a21;
                border-radius: 9999px;
                text-align: center;
                background-color: #343a40;
                border-style: solid;
                font-weight: bold;
                line-height: 1rem;
            }
            .logout:hover {
                background-color: rgba(249, 73, 33, 0.1);
                text-decoration: none;
                border-color: #f94a21;
            }
            .logout:not(:disabled):not(.disabled):active {
                background-color: #343a40;
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
            .logout:focus {
                background-color: rgba(0, 123, 255, 0.1);
                text-decoration: none;
                border-color: #007bff;
                box-shadow: none;
            }
        </style>
    </head>
    <body class="hidden" id="app">
        <div id="root">
            <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark p-0 shadow">
                <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="https://networknext.com">
                    <div class="logo-container">
                        <img class="logo-fit" src="logo.png">
                    </div>
                </a>
                <ul class="navbar-nav px-3 w-100 mr-auto">
                    <li class="nav-item text-nowrap">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.map.show }" v-on:click="handlers.workspaceHandler.changePage('map')">
                            Map
                        </a>
                    </li>
                    <li class="nav-item text-nowrap" v-if="!maintenanceMode">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.sessions.show }" v-on:click="handlers.workspaceHandler.changePage('sessions')">
                            Sessions
                        </a>
                    </li>
                    <li class="nav-item text-nowrap" v-if="!maintenanceMode">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.sessionTool.show }" v-on:click="handlers.workspaceHandler.changePage('sessionTool', '')">
                            Session Tool
                        </a>
                    </li>
                    <li class="nav-item text-nowrap" v-if="!handlers.userHandler.isAnonymous() && !handlers.userHandler.isAnonymousPlus() && !maintenanceMode">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.userTool.show }" v-on:click="handlers.workspaceHandler.changePage('userTool', '')">
                            User Tool
                        </a>
                    </li>
                    <li class="nav-item text-nowrap" v-if="!handlers.userHandler.isAnonymous()">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.downloads.show }" v-on:click="handlers.workspaceHandler.changePage('downloads', '')">
                            Downloads
                        </a>
                    </li>
                    <li class="nav-item text-nowrap" v-if="!handlers.userHandler.isAnonymous()">
                        <a class="nav-link" href="#" v-bind:class="{ active: pages.settings.show }" v-on:click="handlers.workspaceHandler.changePage('settings')">
                            Settings
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav px-3 w-100">
                    <li class="nav-item text-nowrap" style="color: #9a9da0;">
                        {{ portalVersion }}
                    </li>
                </ul>
                <ul class="navbar-nav px-3" v-if="handlers.userHandler.isAnonymous()">
                    <li class="nav-item text-nowrap">
                        <a class="btn-sm btn-primary login" href="#" v-on:click="handlers.authHandler.login()">
                            Log in
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav px-3" v-if="handlers.userHandler.isAnonymous()">
                    <li class="nav-item text-nowrap  ">
                        <a class="btn-sm btn-primary signup" href="#" v-on:click="handlers.authHandler.signUp()">
                            Sign up
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav px-3" v-if="!handlers.userHandler.isAnonymous()">
                    <li class="nav-item text-nowrap  ">
                        <a class="btn-sm btn-primary logout" href="#" v-on:click="handlers.authHandler.logout()">
                            Logout
                        </a>
                    </li>
                </ul>
            </nav>
            <div style="padding-top: 48px;">
                <div class="alert alert-primary" style="text-align: center;" role="alert" v-if="alerts.verifyEmail.show">
                    Please confirm your email address: {{ handlers.userHandler.userInfo.email }}
                    <a href="#" v-on:click="handlers.authHandler.resendVerificationEmail()">
                        Resend email
                    </a>
                </div>
                <div class="alert alert-success" style="text-align: center;" role="alert" v-if="alerts.emailSent.show">
                    Verification email was sent successfully. Please check your email for futher instructions.
                </div>
                <div class="alert alert-danger" style="text-align: center;" role="alert" v-if="alerts.emailFailed.show">
                    Something went wrong sending the verification email. Please try again later.
                </div>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-show="pages.map.show">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom" id="map-sessions-count">
                            <div id="map-spinner" v-if="!showCount">
                                <div class="spinner-border" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                            <h1 class="h2" id="workspace-title" v-if="showCount">
                                Map&nbsp;
                                <span class="badge badge-dark">
                                    {{ mapSessions }} Total Sessions
                                </span>&nbsp;
                                <span class="badge badge-success">
                                    {{ onNN }} on Network Next
                                </span>
                            </h1>
                            <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1">
                                <div class="mr-auto"></div>
                                <div class="px-2 hidden">
                                    <select class="form-control">
                                        <option v-on:click="handlers.mapHandler.updateMap('WORLD')">
                                            World
                                        </option>
                                        <option v-on:click="handlers.mapHandler.updateMap('USA')">
                                            United States
                                        </option>
                                    </select>
                                </div>
                                <div class="px-2 hidden">
                                    <select class="form-control">
                                        <option value="everything" v-on:click="handlers.mapHandler.updateFilter({buyerId: pages.map.filter.buyerId, sessionType: 'all'})">
                                            Everything
                                        </option>
                                        <option value="direct" v-on:click="handlers.mapHandler.updateFilter({buyerId: pages.map.filter.buyerId, sessionType: 'direct'})">
                                            Direct Only
                                        </option>
                                        <option value="next" v-on:click="handlers.mapHandler.updateFilter({buyerId: pages.map.filter.buyerId, sessionType: 'nn'})">
                                            Network Next Only
                                        </option>
                                    </select>
                                </div>
                                <div class="px-2" v-if="handlers.userHandler.isBuyer() || handlers.userHandler.isAdmin()">
                                    <select class="form-control" v-on:change="handlers.mapHandler.updateFilter($event.target.value)">
                                        <option :value="handlers.userHandler.getBuyerId()" :selected="handlers.userHandler.getBuyerId() == pages.map.filter.buyerId" v-if="!handlers.userHandler.isAdmin() && handlers.userHandler.isBuyer()">
                                            {{ handlers.userHandler.getBuyerName() }}
                                        </option>
                                        <option :value="''" :selected="'' == pages.map.filter.buyerId">
                                            All
                                        </option>
                                        <option :value="buyer.id" :selected="buyer.id == pages.map.filter.buyerId" v-for="buyer in handlers.userHandler.allBuyers" v-if="handlers.userHandler.isAdmin() && buyer.is_live">
                                            {{ buyer.name }}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div v-bind:class="{
                                'map-container-no-offset': true,
                                'map-container-offset': false,
                             }">
                            <div id="map" class="map" ref="map"></div>
                            <canvas id="deck-canvas" ref="canvas"></canvas>
                        </div>
                    </main>
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-if="pages.sessions.show">
                        <div id="sessions">
                            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                                <h1 class="h2" id="workspace-title" v-if="showCount">
                                    Sessions&nbsp;
                                    <span class="badge badge-dark">
                                        {{ mapSessions }} Total Sessions
                                    </span>&nbsp;
                                    <span class="badge badge-success">
                                        {{ onNN }} on Network Next
                                    </span>
                                </h1>
                                <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1">
                                    <div class="mr-auto"></div>
                                    <div class="px-2 hidden">
                                        <select class="form-control">
                                            <option value="rtt">
                                                Sort by RTT
                                            </option>
                                        </select>
                                    </div>
                                    <div class="px-2 hidden">
                                        <select class="form-control">
                                            <option value="everything" v-on:click="handlers.workspaceHandler.updateSessionFilter({buyerId: pages.sessions.filter.buyerId, sessionType: 'all'})">
                                                Everything
                                            </option>
                                            <option value="direct" v-on:click="handlers.workspaceHandler.updateSessionFilter({buyerId: pages.sessions.filter.buyerId, sessionType: 'direct'})">
                                                Direct Only
                                            </option>
                                            <option value="next" v-on:click="handlers.workspaceHandler.updateSessionFilter({buyerId: pages.sessions.filter.buyerId, sessionType: 'nn'})">
                                                Network Next Only
                                            </option>
                                        </select>
                                    </div>
                                    <div class="px-2" v-if="handlers.userHandler.isBuyer() || handlers.userHandler.isAdmin()">
                                        <select class="form-control" v-on:change="handlers.workspaceHandler.updateSessionFilter($event.target.value)">
                                            <option :value="handlers.userHandler.getBuyerId()" :selected="handlers.userHandler.getBuyerId() == pages.map.filter.buyerId" v-if="!handlers.userHandler.isAdmin() && handlers.userHandler.isBuyer()">
                                                {{ handlers.userHandler.getBuyerName() }}
                                            </option>
                                            <option :value="''" :selected="'' == pages.map.filter.buyerId">
                                                All
                                            </option>
                                            <option :value="buyer.id" :selected="buyer.id == pages.map.filter.buyerId" v-for="buyer in handlers.userHandler.allBuyers" v-if="handlers.userHandler.isAdmin() && buyer.is_live">
                                                {{ buyer.name }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="spinner-border" role="status" id="sessions-spinner" v-if="!pages.sessions.showTable">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="table-responsive table-no-top-line" v-if="pages.sessions.showTable">
                                <table class="table table-sm table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>
                                                <span>
                                                    <!-- No Title -->
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    Session ID
                                                </span>
                                            </th>
                                            <th v-if="!handlers.userHandler.isAnonymous()">
                                                <span>
                                                    User Hash
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    ISP
                                                </span>
                                            </th>
                                            <th v-if="handlers.userHandler.isAdmin()">
                                                Customer
                                            </th>
                                            <th>
                                                <span>
                                                    Datacenter
                                                </span>
                                            </th>
                                            <th class="text-right">
                                                <span>
                                                    Direct RTT
                                                </span>
                                            </th>
                                            <th class="text-right">
                                                <span>
                                                    Next RTT
                                                </span>
                                            </th>
                                            <th class="text-right">
                                                <span>
                                                    Improvement
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="(session, index) in pages.sessions.sessions">
                                            <td>
                                                <i class="fas fa-circle fa-w-16 fa-fw text-success" v-if="session.on_network_next"></i>
                                                <i class="fas fa-circle fa-w-16 fa-fw text-primary" v-if="!session.on_network_next"></i>
                                            </td>
                                            <td>
                                                <a class="text-dark fixed-width" href="#" v-on:click="handlers.workspaceHandler.changePage('sessionTool', session.id)">
                                                    {{ session.id }}
                                                </a>
                                            </td>
                                            <td v-if="!handlers.userHandler.isAnonymous()">
                                                <a class="text-dark fixed-width" href="#" v-on:click="handlers.workspaceHandler.changePage('userTool', session.user_hash)">
                                                    {{ session.user_hash }}
                                                </a>
                                            </td>
                                            <td>
                                                {{ session.location.isp != "" ? session.location.isp : "Unknown" }}
                                            </td>
                                            <td v-if="handlers.userHandler.isAdmin()">
                                                {{ handlers.userHandler.getCustomerName(session.customer_id) }}
                                            </td>
                                            <td>
                                                <span class="text-dark">
                                                    {{ session.datacenter_alias != "" ? session.datacenter_alias : session.datacenter_name }}
                                                </span>
                                            </td>
                                            <td class="text-right ">
                                                {{ parseFloat(session.direct_rtt).toFixed(2) == 0 ? "-" : parseFloat(session.direct_rtt).toFixed(2) }}
                                            </td>
                                            <td class="text-right ">
                                                {{ parseFloat(session.next_rtt).toFixed(2) == 0 ? "-" : parseFloat(session.next_rtt).toFixed(2) }}
                                            </td>
                                            <td class="text-right ">
                                                <span v-if="session.delta_rtt > 0 && session.on_network_next"
                                                        v-bind:class="{
                                                            'text-success': session.delta_rtt >= 5,
                                                            'text-warning': session.delta_rtt >= 2 && session.delta_rtt < 5,
                                                            'text-danger': session.delta_rtt < 2 && session.delta_rtt > 0
                                                        }"
                                                >
                                                    <b>
                                                        {{ parseFloat(session.delta_rtt).toFixed(2) }}
                                                    </b>
                                                </span>
                                                <span v-if="session.delta_rtt < 0 || !session.on_network_next">
                                                    <b>
                                                        -
                                                    </b>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </main>
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-if="pages.sessionTool.show">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">
                                Session Tool
                            </h1>
                            <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1 hidden">
                                <div class="mr-auto"></div>
                            </div>
                        </div>
                        <form class="flow-stats-form" v-on:submit.prevent="handlers.workspaceHandler.fetchSessionInfo()">
                            <div class="form-group">
                                <label for="session-id-input">
                                    Session ID
                                </label>
                                <div class="row">
                                    <div class="col">
                                        <input v-model="pages.sessionTool.id" class="form-control" type="text" placeholder="Enter a Session ID to view statistics">
                                    </div>
                                    <div class="col-auto">
                                        <button class="btn btn-primary" type="submit">
                                            View Stats
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="alert alert-info" role="alert" id="session-tool-alert" v-if="pages.sessionTool.info && !handlers.userHandler.isAnonymous()">
                            Please enter a valid Session ID to view its statistics. It should be a hexadecimal number (with leading zeros), or a decimal number.
                        </div>
                        <div class="alert alert-danger" role="alert" id="session-tool-danger" v-if="pages.sessionTool.danger">
                            Failed to fetch session details
                        </div>
                        <div id="session-details">
                            <div v-if="pages.sessionTool.showDetails">
                                <div class="row">
                                    <div class="col-12 col-lg-8">
                                        <div class="card mb-2">
                                            <div class="card-header">
                                                <strong>
                                                    Latency
                                                </strong>
                                                <div class="float-right">
                                                    <span class="mr-2" style="border-right: 2px dotted rgb(51, 51, 51); display: none;"></span>
                                                    <span style="color: rgb(0, 109, 44);">
                                                        — Network Next
                                                    </span>
                                                    <span style="color: rgb(49, 130, 189);">
                                                        — Direct
                                                    </span>
                                                    <span></span>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div id="latency-chart-1"></div>
                                            </div>
                                        </div>
                                        <div class="card mb-2">
                                            <div class="card-header">
                                                <strong>
                                                    Jitter
                                                </strong>
                                                <div class="float-right">
                                                    <span class="mr-2" style="border-right: 2px dotted rgb(51, 51, 51); display: none;"></span>
                                                    <span style="color: rgb(0, 109, 44);">
                                                        — Network Next
                                                    </span>
                                                    <span style="color: rgb(49, 130, 189);">
                                                        — Direct
                                                    </span>
                                                    <span></span>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div id="jitter-chart-1"></div>
                                            </div>
                                        </div>
                                        <div class="card mb-2">
                                            <div class="card-header">
                                                <strong>
                                                    Packet Loss
                                                </strong>
                                                <div class="float-right">
                                                    <span class="mr-2" style="border-right: 2px dotted rgb(51, 51, 51); display: none;"></span>
                                                    <span style="color: rgb(0, 109, 44);">
                                                        — Network Next
                                                    </span>
                                                    <span style="color: rgb(49, 130, 189);">
                                                        — Direct
                                                    </span>
                                                    <span></span>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div id="packet-loss-chart-1">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card mb-2">
                                            <div class="card-header">
                                                <strong>
                                                    Bandwidth
                                                </strong>
                                                <div class="float-right">
                                                    <span class="mr-2" style="border-right: 2px dotted rgb(51, 51, 51); display: none;"></span>
                                                    <span style="color: orange;">
                                                        — Up
                                                    </span>
                                                    <span style="color: blue;">
                                                        — Down
                                                    </span>
                                                    <span></span>
                                                </div>
                                                <div class="float-right">
                                                    <span id="traffic-up-legend"></span>
                                                    <span id="traffic-down-legend"></span>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div id="bandwidth-chart-1">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-4">
                                        <div class="card">
                                            <div class="card-img-top">
                                                <div id="session-tool-map" style="width: 100%; height: 40vh; margin: 0px; padding: 0px; position: relative;"></div>
                                            </div>
                                            <div class="card-body">
                                                <div class="card-text">
                                                    <dl>
                                                        <dt>
                                                            ISP
                                                        </dt>
                                                        <dd>
                                                            <em>
                                                                {{ pages.sessionTool.meta.location.isp != "" ? pages.sessionTool.meta.location.isp : "Unknown" }}
                                                            </em>
                                                        </dd>
                                                        <div v-if="!handlers.userHandler.isAnonymous() && pages.sessionTool.meta.customer_id !== ''">
                                                            <dt>
                                                                User Hash
                                                            </dt>
                                                            <dd>
                                                                <a class="text-dark" href="#" v-on:click="handlers.workspaceHandler.changePage('userTool', pages.sessionTool.meta.user_hash)">
                                                                    {{ pages.sessionTool.meta.user_hash }}
                                                                </a>
                                                            </dd>
                                                        </div>
                                                        <div v-if="!handlers.userHandler.isAnonymous() && pages.sessionTool.meta.buyer_id == handlers.userHandler.userInfo.id || handlers.userHandler.isAdmin()">
                                                            <dt>
                                                                User IP Address
                                                            </dt>
                                                            <dd>
                                                                {{
                                                                    pages.sessionTool.meta.client_addr.split(":")[0]
                                                                }}
                                                            </dd>
                                                        </div>
                                                        <dt>
                                                            Platform
                                                        </dt>
                                                        <dd>
                                                            {{ pages.sessionTool.meta.platform }}
                                                        </dd>
                                                        <dt v-if="!handlers.userHandler.isAnonymous()">
                                                            Customer
                                                        </dt>
                                                        <dd v-if="!handlers.userHandler.isAnonymous()">
                                                            {{
                                                                handlers.userHandler.getCustomerName(pages.sessionTool.meta.customer_id)
                                                            }}
                                                        </dd>
                                                        <dt>
                                                            SDK Version
                                                        </dt>
                                                        <dd>
                                                            {{ pages.sessionTool.meta.sdk }}
                                                        </dd>
                                                        <dt>
                                                            Connection Type
                                                        </dt>
                                                        <dd>
                                                            {{ pages.sessionTool.meta.connection }}
                                                        </dd>
                                                        <dt v-if="handlers.userHandler.isAdmin()">
                                                            Nearby Relays
                                                        </dt>
                                                        <dd v-if="pages.sessionTool.meta.nearby_relays == 0 && handlers.userHandler.isAdmin()">
                                                            No Nearby Relays
                                                        </dd>
                                                        <table class="table table-sm mt-1" v-if="pages.sessionTool.meta.nearby_relays.length > 0 && handlers.userHandler.isAdmin()">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width: 50%;">
                                                                        Name
                                                                    </th>
                                                                    <th style="width: 16.66%;">
                                                                        RTT
                                                                    </th>
                                                                    <th style="width: 16.66%;">
                                                                        Jitter
                                                                    </th>
                                                                    <th style="width: 16.66%;">
                                                                        Packet Loss
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr v-for="relay in pages.sessionTool.meta.nearby_relays">
                                                                    <td>
                                                                        <a class="text-dark">{{ relay.name }}</a>&nbsp;
                                                                    </td>
                                                                    <td>
                                                                        {{ parseFloat(relay.client_stats.rtt).toFixed(2) }}
                                                                    </td>
                                                                    <td>
                                                                        {{ parseFloat(relay.client_stats.jitter).toFixed(2) }}
                                                                    </td>
                                                                    <td>
                                                                        {{ parseFloat(relay.client_stats.packet_loss).toFixed(2) }}%
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <dt  v-if="handlers.userHandler.isAdmin()">
                                                            Route
                                                        </dt>
                                                        <table class="table table-sm mt-1" v-if="handlers.userHandler.isAdmin()">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width: 50%;">
                                                                        Name
                                                                    </th>
                                                                    <th style="width: 50%;">
                                                                        Role
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        {{
                                                                            handlers.userHandler.allBuyers.findIndex((buyer) => {
                                                                                return buyer.id == pages.sessionTool.meta.customer_id
                                                                            }) !== -1 ? pages.sessionTool.meta.client_addr : "Player"
                                                                        }}
                                                                    </td>
                                                                    <td>
                                                                        <em>
                                                                            User (Player)
                                                                        </em>
                                                                    </td>
                                                                </tr>
                                                                <tr v-for="(hop, index) in pages.sessionTool.meta.hops" scope="row">
                                                                    <td>
                                                                        {{ hop.name }}
                                                                    </td>
                                                                    <td>
                                                                        Hop {{ index + 1 }}
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        {{
                                                                            handlers.userHandler.allBuyers.findIndex((buyer) => {
                                                                                return buyer.id == pages.sessionTool.meta.customer_id
                                                                            }) !== -1 ? pages.sessionTool.meta.server_addr : "Game Server"
                                                                        }}
                                                                    </td>
                                                                    <td>
                                                                        <em>Destination Server</em>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </dl>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-if="pages.userTool.show">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">
                                User Tool
                            </h1>
                            <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1 hidden">
                                <div class="mr-auto"></div>
                            </div>
                        </div>
                        <form class="flow-stats-form" v-on:submit.prevent="handlers.workspaceHandler.fetchUserSessions()" v-if="!handlers.userHandler.isAnonymous()">
                            <div class="form-group">
                                <label for="user-hash-input">
                                    User Hash
                                </label>
                                <div class="row">
                                    <div class="col">
                                        <input v-model="pages.userTool.hash" class="form-control" type="text" placeholder="Enter a User Hash to view statistics">
                                    </div>
                                    <div class="col-auto">
                                        <button class="btn btn-primary" type="submit">
                                            View Sessions
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="alert alert-info" role="alert" id="user-tool-alert" v-if="pages.userTool.info">
                            Please enter a User ID or Hash to view their sessions.
                        </div>
                        <div class="alert alert-danger" role="alert" id="user-tool-danger" v-if="pages.userTool.danger">
                            Failed to fetch user sessions
                        </div>
                        <div id="user-sessions">
                            <div class="table-responsive table-no-top-line">
                                <table class="table table-sm" v-if="pages.userTool.showTable">
                                    <thead>
                                        <tr>
                                            <th>
                                                <span>
                                                    Session ID
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    Platform
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    Connection Type
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    ISP
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    Datacenter
                                                </span>
                                            </th>
                                            <th>
                                                <span>
                                                    Server Address
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody v-if="pages.userTool.sessions.length > 0">
                                        <tr v-for="session in pages.userTool.sessions">
                                            <td>
                                                <a class="text-dark fixed-width" href="#" v-on:click="handlers.workspaceHandler.changePage('sessionTool', session.id)">
                                                    {{ session.id }}
                                                </a>
                                            </td>
                                            <td>
                                                {{ session.platform }}
                                            </td>
                                            <td>
                                                {{ session.connection }}
                                            </td>
                                            <td>
                                                {{ session.location.isp != "" ? session.location.isp : "Unknown"}}
                                            </td>
                                            <td>
                                                {{ session.datacenter_alias != "" ? session.datacenter_alias : session.datacenter_name }}
                                            </td>
                                            <td>
                                                {{ session.server_addr }}
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tbody v-if="pages.userTool.sessions.length == 0">
                                        <tr>
                                            <td colspan="7" class="text-muted">
                                                There are no sessions belonging to this user.
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </main>
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-show="pages.downloads.show">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">
                                Downloads
                            </h1>
                            <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1 hidden">
                                <div class="mr-auto"></div>
                            </div>
                        </div>
                        <div class="card mb-2">
                            <div class="card-body">
                                <div class="btn-group-vertical btn-group-sm float-right">
                                    <a
                                        href="#"
                                        onclick="window.open('https://storage.googleapis.com/portal_sdk_download_storage/next-3.4.6.zip')"
                                        class="btn btn-primary m-1"
                                        title="SDK v3.4.6"
                                        style='width: "160px"'
                                    >
                                        <i class="fas fa-download fa-w-16 fa-fw"></i>
                                        SDK v3.4.6
                                    </a>
                                    <a
                                        href="#"
                                        onclick="window.open('https://network-next-sdk.readthedocs-hosted.com/en/latest/')"
                                        class="btn btn-primary m-1"
                                        title="v3.4.6 Documentation"
                                        style='width: "160px"'
                                    >
                                        <i class="fas fa-download fa-w-16 fa-fw"></i>
                                        v3.4.6 Documentation
                                    </a>
                                </div>
                                <h5 class="card-title">
                                    Network Next SDK
                                </h5>
                            </div>
                        </div>
                    </main>
                    <main role="main" class="col-md-12 col-lg-12 px-4" v-if="pages.settings.show">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 class="h2">
                                Settings
                            </h1>
                            <div class="btn-toolbar mb-2 mb-md-0 flex-grow-1 hidden">
                                <div class="mr-auto"></div>
                            </div>
                        </div>
                        <div class="card" style="margin-bottom: 250px;">
                            <div class="card-header">
                                <ul class="nav nav-tabs card-header-tabs">
                                    <li class="nav-item"  v-if="handlers.userHandler.isOwner() || handlers.userHandler.isAdmin()">
                                        <a class="nav-link" id="accounts-link" href="#" v-bind:class="{ active: pages.settings.showSettings }" v-on:click="handlers.workspaceHandler.changeSettingsPage('users')">
                                            Users
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="config-link" href="#" v-bind:class="{ active: pages.settings.showConfig }" v-on:click="handlers.workspaceHandler.changeSettingsPage('config')">
                                            Game Configuration
                                        </a>
                                    </li>
                                    <li class="nav-item" v-if="handlers.userHandler.isABTester()">
                                        <a class="nav-link" id="shader-link" href="#" v-bind:class="{ active: pages.settings.showShader }" v-on:click="handlers.workspaceHandler.changeSettingsPage('shader')">
                                            Route Shader
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div id="settings-page">
                                <div class="card-body" v-if="pages.settings.showSettings">
                                    <div id="auto-signin" class="hidden">
                                        <h5 class="card-title">
                                            Automatic sign-in
                                        </h5>
                                        <p class="card-text">
                                            Save time by allowing users with verified email addresses automatic access to your Network Next account.
                                        </p>
                                        <div id="auto-sign-in-spinner" v-show="!pages.settings.showAccounts">
                                            <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                        <form v-on:submit.prevent="saveAutoSignIn()" v-show="pages.settings.showAccounts">
                                            <div class="form-group">
                                                <label for="customerId">
                                                    Automatic Sign-in Domain
                                                </label>
                                                <input type="text" class="form-control form-control-sm" value="networknext.com" id="auto-sign-in-domain">
                                                <small class="form-text text-muted">
                                                    If you set this to a domain, such as "example.com", then anyone with a verified email address with this domain will automatically join your account when logging in. You can set this so that you don't need to manually onboard everyone in your organization.
                                                </small>
                                            </div>
                                            <div class="form-group">
                                                <label for="customerId">
                                                    Permission Level
                                                </label>
                                                <select
                                                    class="form-control"
                                                    id="auto-signin-permissions"
                                                    multiple
                                                >
                                                </select>
                                                <small class="form-text text-muted">
                                                    The permission level to grant accounts that join your account via automatic sign-in.
                                                </small>
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-sm">
                                                Save Automatic Sign-in
                                            </button>
                                            <p class="text-muted text-small mt-2"></p>
                                        </form>
                                        <hr class="mt-4 mb-4">
                                    </div>
                                    <h5 class="card-title">
                                        Add new users
                                    </h5>
                                    <p class="card-text">
                                        Provide other people with access to your account.
                                    </p>
                                    <div id="add-user-spinner" v-show="!pages.settings.showAccounts">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                    <div class="alert alert-success" role="alert" id="session-tool-alert" v-show="pages.settings.newUser.success != ''">
                                        {{ pages.settings.newUser.success }}
                                    </div>
                                    <div class="alert alert-danger" role="alert" id="session-tool-alert" v-show="pages.settings.newUser.failure != ''">
                                        {{ pages.settings.newUser.failure }}
                                    </div>
                                    <form v-on:submit.prevent="addUsers()" v-show="pages.settings.showAccounts">
                                        <div class="form-group">
                                            <label for="customerId">
                                                Add users by email address
                                            </label>
                                            <textarea class="form-control form-control-sm" id="new-user-emails"></textarea>
                                            <small class="form-text text-muted">
                                                Enter a newline or comma-delimited list of email addresses to add users to your account.
                                            </small>
                                        </div>
                                        <div class="form-group">
                                            <label for="customerId">
                                                Permission Level
                                            </label>
                                            <select
                                                class="form-control"
                                                id="add-user-permissions"
                                                placeholder="Select..."
                                                multiple
                                            >
                                            </select>
                                            <small class="form-text text-muted">
                                                The permission level to grant the added user accounts.
                                            </small>
                                        </div>
                                        <button type="submit" class="btn btn-primary btn-sm">
                                            Add Users
                                        </button>
                                        <p class="text-muted text-small mt-2"></p>
                                    </form>
                                    <hr class="mt-4 mb-4">
                                    <h5 class="card-title">
                                        Manage existing users
                                    </h5>
                                    <p class="card-text">
                                        Manage the list of users that currently have access to your Network Next account.
                                    </p>
                                    <div id="account-table-spinner" v-show="!pages.settings.showAccounts">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                    <table class="table table-sm mt-4" v-show="pages.settings.showAccounts">
                                        <thead class="thead-light">
                                            <tr>
                                                <th style="width: 20%;">
                                                    Email Address
                                                </th>
                                                <th style="width: 70%;">
                                                    Permissions
                                                </th>
                                                <th style="width: 10%;">
                                                    Actions
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="(account, index) in pages.settings.accounts">
                                                <div
                                                    class="alert alert-success"
                                                    role="alert"
                                                    v-show="pages.settings.updateUser.success != ''"
                                                >
                                                    {{ pages.settings.updateUser.success }}
                                                </div>
                                                <div
                                                    class="alert alert-danger"
                                                    role="alert"
                                                    v-show="pages.settings.updateUser.failure != ''"
                                                >
                                                    {{ pages.settings.updateUser.failure }}
                                                </div>
                                                <td>
                                                    {{ account.email }}
                                                </td>
                                                <td>
                                                    <select
                                                        class="form-control"
                                                        :id="`edit-user-permissions-${account.user_id}`"
                                                        multiple
                                                    >
                                                    </select>
                                                </td>
                                                <td class="td-btn" v-show="!account.edit && !account.delete">
                                                    <button
                                                        class="btn btn-xs btn-primary"
                                                        data-toggle="tooltip"
                                                        data-placement="bottom"
                                                        title="Change this user's permissions"
                                                        v-on:click="handlers.workspaceHandler.editUser(account, index)"
                                                    >
                                                        <i class="fas fa-pen fa-w-16 fa-fw"></i>
                                                    </button>&nbsp;
                                                    <button
                                                        class="btn btn-xs btn-danger"
                                                        data-toggle="tooltip"
                                                        data-placement="bottom"
                                                        title="Remove this user"
                                                        v-on:click="handlers.workspaceHandler.deleteUser(index)"
                                                    >
                                                        <i class="fas fa-trash fa-w-14 fa-fw"></i>
                                                    </button>&nbsp;
                                                </td>
                                                <td class="td-btn" v-show="account.edit || account.delete">
                                                    <button
                                                        class="btn btn-xs btn-success"
                                                        data-toggle="tooltip"
                                                        data-placement="bottom"
                                                        title="Save Changes"
                                                        v-on:click="handlers.workspaceHandler.saveUser(account, index)"
                                                    >
                                                        <i class="fas fa-check fa-w-16 fa-fw"></i>
                                                    </button>&nbsp;
                                                    <button
                                                        class="btn btn-xs btn-secondary"
                                                        data-toggle="tooltip"
                                                        data-placement="bottom"
                                                        title="Cancel Changes"
                                                        v-on:click="handlers.workspaceHandler.cancelEditUser(account, index)"
                                                    >
                                                        <i class="fas fa-times fa-w-14 fa-fw"></i>
                                                    </button>&nbsp;
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="card-body" id="config-page" v-show="pages.settings.showConfig">
                                    <h5 class="card-title">
                                        Game Configuration
                                    </h5>
                                    <p class="card-text">
                                        Manage how your game connects to Network Next.
                                    </p>
                                    <div
                                        class="alert alert-success"
                                        role="alert"
                                        v-show="pages.settings.updateKey.success != ''"
                                    >
                                        {{ pages.settings.updateKey.success }}
                                    </div>
                                    <div
                                        class="alert alert-danger"
                                        role="alert"
                                        v-show="pages.settings.updateKey.failure != ''"
                                    >
                                        {{ pages.settings.updateKey.failure }}
                                    </div>
                                    <div
                                        class="alert alert-success"
                                        role="alert"
                                        v-show="pages.settings.upgrade.success != ''"
                                    >
                                        {{ pages.settings.upgrade.success }}
                                    </div>
                                    <div
                                        class="alert alert-danger"
                                        role="alert"
                                        v-show="pages.settings.upgrade.failure != ''"
                                    >
                                        {{ pages.settings.upgrade.failure }}
                                    </div>
                                    <form v-on:submit.prevent="updatePubKey()">
                                        <div class="form-group" id="pubKey">
                                            <label>
                                                Company Name
                                            </label>
                                            <input type="text" class="form-control" placeholder="Enter your company name" id="company-input" v-model="handlers.userHandler.userInfo.company" :disabled="!handlers.userHandler.isOwner() && !handlers.userHandler.isAdmin()">
                                            </input>
                                            <br>
                                            <label>
                                                Public Key
                                            </label>
                                            <textarea class="form-control" placeholder="Enter your base64-encoded public key" id="pubkey-input" v-model="handlers.userHandler.userInfo.pubKey" :disabled="!handlers.userHandler.isOwner() && !handlers.userHandler.isAdmin()">
                                            </textarea>
                                        </div>
                                        <button type="submit" class="btn btn-primary btn-sm" v-if="handlers.userHandler.isOwner() || handlers.userHandler.isAdmin()">
                                            Save game configuration
                                        </button>
                                        <p class="text-muted text-small mt-2"></p>
                                    </form>
                                </div>
                                <div class="card-body" id="shader-page" v-show="pages.settings.showShader">
                                    <h5 class="card-title">
                                        Route Shader
                                    </h5>
                                    <p class="card-text">
                                        Configure how Network Next accelerates your players
                                    </p>
                                    <div
                                        class="alert alert-success"
                                        role="alert"
                                        v-show="pages.settings.updateShader.success != ''"
                                    >
                                        {{ pages.settings.updateShader.success }}
                                    </div>
                                    <div
                                        class="alert alert-danger"
                                        role="alert"
                                        v-show="pages.settings.updateShader.failure != ''"
                                    >
                                        {{ pages.settings.updateShader.failure }}
                                    </div>
                                    <form v-on:submit.prevent="updateRouteShader()">
                                        <div class="form-group row">
                                            <div class="col-sm-2">Enable Network Next</div>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <label class="switch">
                                                        <input type="checkbox" checked v-model="handlers.userHandler.routeShader.enable_nn">
                                                        <span class="slider round"></span>
                                                    </label>
                                                    <span style="padding-left: 2rem;">
                                                        Accelerate your sessions with Network Next
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div v-show="handlers.userHandler.routeShader.enable_nn">
                                            <div class="form-group row">
                                                <div class="col-sm-2">Reduce Latency</div>
                                                <div class="col-sm-10">
                                                    <div class="form-check">
                                                        <label class="switch">
                                                            <input type="checkbox" checked v-model="handlers.userHandler.routeShader.enable_rtt">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <span style="padding-left: 2rem;">
                                                            Turn on acceleration for sessions with latency higher than an acceptable amount
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group row" style="padding-left: 2rem;" v-show="handlers.userHandler.routeShader.enable_rtt">
                                                <div class="col-sm-2">Acceptable Latency:</div>
                                                <div class="col-sm-10">
                                                    <input type="text" v-model="handlers.userHandler.routeShader.acceptable_latency"> ms
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-sm-2">Reduce Packet Loss</div>
                                                <div class="col-sm-10">
                                                    <div class="form-check">
                                                        <label class="switch">
                                                            <input type="checkbox" v-model="handlers.userHandler.routeShader.enable_pl">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <span style="padding-left: 2rem;">
                                                            Turn on acceleration for sessions with packet loss higher than an acceptable threshold
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group row" style="padding-left: 2rem;" v-show="handlers.userHandler.routeShader.enable_pl">
                                                <div class="col-sm-2">Packet Loss Threshold:</div>
                                                <div class="col-sm-10">
                                                    <input type="text" v-model="handlers.userHandler.routeShader.pl_threshold"> %
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-sm-2">Multipath</div>
                                                <div class="col-sm-10">
                                                    <div class="form-check">
                                                        <label class="switch">
                                                            <input type="checkbox" v-model="handlers.userHandler.routeShader.enable_mp">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <span style="padding-left: 2rem;">
                                                            Send both Network Next and direct packets together
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <div class="col-sm-2">Enable A/B Test</div>
                                                <div class="col-sm-10">
                                                    <div class="form-check">
                                                        <label class="switch">
                                                            <input type="checkbox" v-model="handlers.userHandler.routeShader.enable_ab">
                                                            <span class="slider round"></span>
                                                        </label>
                                                        <span style="padding-left: 2rem;">
                                                            Enable Network Next for even session IDs only
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-sm" v-if="handlers.userHandler.isOwner() || handlers.userHandler.isAdmin()">
                                                Save route shader
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </main>
                    <div class="modal" tabindex="-1" role="dialog" id="video-modal">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title align-items-left">New to Network Next?</h5>
                                    <button type="button" class="close align-items-right" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <!-- <iframe id="video-player"
                                        src="https://www.youtube.com/embed/G1IbRujko-A?autoplay=1&amp;autohide=1&amp;modestbranding=1&amp;showinfo=0&amp;controls=0&amp;vq=hd1080"
                                        style="width: 100%; height: 360px;"
                                        frameborder="0">
                                </iframe> -->
                                <div class="modal-footer">
                                    <button class="btn btn-primary btn-sm" href="#" v-on:click="handlers.authHandler.signUp()">
                                        Sign Up
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
                integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
                crossorigin="anonymous">
        </script>
        <script src="https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"></script>
        <script src="https://unpkg.com/deck.gl@latest/dist.min.js"></script>
        <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js"></script>
        <script src="https://cdn.auth0.com/js/auth0-spa-js/1.7/auth0-spa-js.production.js"></script>
        <script src="https://unpkg.com/vue"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                crossorigin="anonymous">
        </script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
                integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
                crossorigin="anonymous">
        </script>
        <script src="./js/uPlot/uPlot.iife.min.js"></script>
        <script src="./js/choices/scripts/choices.js"></script>
        <script src="./js/portal.js"></script>
        <script>
            const isProd = window.location.hostname == 'portal.networknext.com';
            Vue.config.devtools = !isProd
            Vue.config.debug = !isProd
            Vue.config.silent = isProd
            window.onload = async () => {
                AuthHandler.init();
            }
        </script>
    </body>
</html>