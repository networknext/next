<template>
  <BaseModal ref="baseModal">
    <template v-slot:body>
      <div class="row pt-2 pb-2">
        <div class="col"></div>
        <div class="col">
          <img class="logo-fit" src="../../assets/TOS_logo.png" />
        </div>
        <div class="col"></div>
      </div>
      <div class="pt-3 paragraph-header" style="text-align: center;">
        Terms of Service
      </div>
      <p>
        This Terms of Service (the “Agreement”) contains the terms of your access and use of the Network Next network monitoring, analytics and acceleration services, including the Network Next Portal and associated software (the “Service”) provided by Network Next, Inc. (“Network Next”).
        By accepting the terms and conditions or using the Service, you agree to be bound by this Agreement. You agree that your access to the Service may be terminated by Network Next at its sole discretion at any time for any reason, except as otherwise agreed in the Services Agreement between you and Network Next (the “Services Agreement”), where applicable.
      </p>
      <p>
        IF YOU ARE ENTERING INTO THIS AGREEMENT ON BEHALF OF A COMPANY OR OTHER LEGAL ENTITY, YOU REPRESENT THAT YOU HAVE THE LEGAL AUTHORITY TO BIND THE ENTITY TO THIS AGREEMENT, IN WHICH CASE “YOU” WILL MEAN THE ENTITY YOU REPRESENT.
      </p>
      <div class="paragraph-header">
        Access to Service
      </div>
      <p>
        Network Next hereby grants you a non-exclusive, non-transferable right to access and use the Service, solely for use by you in accordance with the terms and conditions of this Agreement.
      </p>
      <div class="paragraph-header">
        Restriction on Use
      </div>
      <p>
        You agree that you will not use the Service for any purpose beyond that granted in this Agreement and the Services Agreement, where applicable. This means that you will not at any time, directly or indirectly, and will not permit any Authorized User, to:
      </p>
      <ul>
        <li>
          Copy, modify, or create derivative works of the Service, in whole or in part.
        </li>
        <li>
          Reverse engineer, disassemble, decompile, decode, adapt, or otherwise attempt to derive or gain access to any software component of our intellectual property, including any attempts to discover the underlying code, structure, implementation, or algorithms of the Service.
        </li>
        <li>
          Use the Service to develop, create, or permit others to develop or create a product or service similar or competitive to our intellectual property, and, in particular, our Service.
        </li>
        <li>
          Make the Service available to third parties, including by reselling, licensing, renting, leasing, transferring, lending, timesharing, assigning, or redistributing our intellectual property.
        </li>
        <li>
          Use the Service or our intellectual property in any manner or for any purpose that infringes, misappropriates, or otherwise violates any intellectual property right or other right of any person, or that violates any applicable law.
        </li>
      </ul>
      <div class="paragraph-header">
        Reservation of Rights
      </div>
      <p>
        We reserve all rights not expressly granted to you in this Agreement and the Services Agreement, where applicable. Except for the limited rights and licenses expressly granted in this Agreement and the Services Agreement, where applicable, nothing in this Agreement grants to you or any third party any intellectual property rights or other right, title, or interest in or to the Service.
      </p>
      <div class="paragraph-header">
        Data Collection; License
      </div>
      <p>
        Network Next anonymizes any personal data during collection and before it is transmitted and stored by Network Next, by removing all direct and indirect identifiers, and on which technical, organizational, and legal controls reasonably prevent re-identifying individuals so that it is no longer personally-identifiable data as defined under the applicable privacy regulations (“Personal Data”). The collected data which is anonymized consists of the user's IP address and their user id (e.g, Steam ID, PSN ID) (the "Anonymized Data").
      </p>
      <p>
        Network Next also collects other aggregated, non-personally identifiable internet usage analytics, including the route calculated for the user to reach the server, when and how long the user is connected to the server, RTT, jitter, and packet loss statistics about the user's connection, broad geographical data inferred based on IP Address, and the user's ISP name and their ISP's ASN (the "Technical Data"). No Personal Data is contained in the Technical Data.
      </p>
      <p>
        By agreeing to this Agreement, you hereby grant to Network Next the irrevocable, worldwide, perpetual, royalty-free right to access, use, reproduce, distribute, display, assign, sell, license, sublicense, and create derivative works from Technical Data and Anonymized Data, for any purpose (to the extent permitted by law) at Network Next's sole discretion.
      </p>
      <div class="paragraph-header">
        Feedback
      </div>
      <p>
        If you or any of your employees or contractors send or transmit any communications or materials to us suggesting or recommending changes to the Service, including new features or functionality, or any comments, questions, suggestions, or the like (together, the “Feedback”), we are free to use such feedback irrespective of any other obligation or limitation. You hereby assign to us on your behalf, and on behalf of your employees, contractors, and agents, all right, title, and interest in, and we are free to use, without any attribution or compensation to any party, any ideas, know-how, concepts, techniques, or other intellectual property rights contained in the Feedback, for any purpose whatsoever.
      </p>
      <div class="paragraph-header">
        Service Modifications
      </div>
      <p>
        Except as otherwise agreed in the Services Agreement, where applicable:
      </p>
      <ol>
        <li>
          We reserve the right to modify or discontinue, temporarily or permanently, the Service (or any part of the Service) with or without notice at any time.
        </li>
        <li>
          You agree that we will not be liable to you or any third party for any modification, suspension, or discontinuance of the Service.
        </li>
      </ol>
      <div class="paragraph-header">
        Software Performance
      </div>
      <ol>
        <li>
          We will make commercially reasonable efforts to have our Service operate properly. However, as a service that relies on software, third-party networks, software, and services, and continuous Internet connectivity, we do not guarantee that our Service will operate in an uninterrupted or error-free manner or that it will always be available, free from errors, omissions, or malfunctions.
        </li>
        <li>
          If we receive notice of any failure or malfunction, or we become aware of them by ourselves, we will attempt to regain the Service’s availability as soon as practicable. But such incidents will not be considered a breach of this Agreement.
        </li>
      </ol>
      <div class="paragraph-header">
        Disclaimer of Warranties
      </div>
      <p>
        Except as otherwise agreed in the Services Agreement, where applicable:
      </p>
      <ol>
        <li>
          Your use of the Service is entirely at your own risk.
        </li>
        <li>
          Network Next expressly disclaims all warranties of any kind, whether express or implied, including the implied warranties of merchantability, fitness for a particular purpose and non-infringement.
        </li>
        <li>
          Network Next makes no warranty that (i) the Service will meet your requirements, (ii) that operation of the Service will be uninterrupted, timely, secure, or error-free, or (iii) the results that may be obtained from the use of the Service will be accurate or reliable.
        </li>
        <li>
          No advice or information, whether oral or written, obtained by you from Network Next, or through the Service creates any warranty regarding the Service not expressly stated in this Agreement or your Services Agreement, where applicable.
        </li>
      </ol>
      <p>
        Because some states or jurisdictions do not allow the disclaimer of implied warranties, the foregoing disclaimer only applies to the extent allowed in your applicable state or jurisdiction.
      </p>
      <div class="paragraph-header">
        Limitation of Liability
      </div>
      <p>
        Except as otherwise agreed in the Services Agreement, where applicable:
      </p>
      <ul>
        <li>
          You expressly understand and agree that Network Next is not liable for any direct, indirect, incidental, special, consequential, or exemplary damages, including damages for loss of profits, goods, goodwill, use, data, or other intangible losses (even if Network Next has been advised of the possibility of such damages), resulting from the use or the inability to use the Service or any other matter relating to the Service, and without regard to whether such damages, or claims of damages arise based in contract, tort or otherwise.
        </li>
      </ul>
      <p>
        Because some states or jurisdictions do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, the liability of Network Next and its affiliates will be limited to the fullest extent permitted by law.
      </p>
      <div class="paragraph-header">
        Indemnification
      </div>
      <p>
        You agree to indemnify and hold Network Next and its affiliates, officers, agents, and employees harmless from any claim, demand, loss, costs, or expense, including attorneys’ fees, made by any person or entity arising out of your violation of this Agreement, state or federal laws or regulations, or any other person’s rights, including infringement of any copyright or violation of any proprietary or privacy right. Under no circumstances, including any negligent act, will Network Next or its affiliates or agents be liable for any damages of any kind that result from the use of, or the inability to use, the Service.
      </p>
      <div class="paragraph-header">
        Legal Compliance
      </div>
      <p>
        By using the Service, you represent and warrant that (i) you are not located in a country that is subject to a U.S. Government embargo, or that has been designated by the U.S. Government as a “terrorist supporting” country; and (ii) you are not listed on any U.S. Government list of prohibited or restricted parties.
      </p>
      <div class="paragraph-header">
        Governing Law; Jurisdiction
      </div>
      <p>
        The Agreement, and all future agreements you enter into with us, unless otherwise indicated on such other agreement, will be governed by the laws of the State of New York. This is the case regardless of whether you reside or transact business with us, or any of our affiliates or agents, in the State of New York or elsewhere. Unless a dispute would be governed by the terms of the Section entitled Binding Arbitration below or if governed by your Services Agreement, where applicable, you agree to submit to the personal and exclusive jurisdiction of the courts located within the city of New York, NY, United States.
      </p>
      <p>
        <strong>For EU users only:</strong> In the event of a dispute relating to the interpretation, performance, or validity of this Agreement, an amicable solution can be sought before any legal action. You can file your complaint with Network Next by sending a message via email to support@networknext.com. In case of failure, you can, within one year of the failed request, have recourse to an Alternative Dispute Resolution procedure by filing an online complaint on the European Commission’s Online Dispute Resolution website: https://webgate.ec.europa.eu/odr/main/index.cfm?event=main.home.chooseLanguage. If out-of-court dispute resolutions fail, the dispute may be brought before the competent courts.
      </p>
      <div class="paragraph-header">
        Binding Arbitration
      </div>
      <p>
        Except as otherwise agreed in the Services Agreement, where applicable, any dispute or claim relating in any way to your use of the Service (each, a “Claim”) will be resolved by binding arbitration, rather than in court (except that you may assert claims in small-claims court if your claims qualify). You agree that each Claim must be brought individually.
      </p>
      <p>
        YOU AND NETWORK NEXT AGREE THAT (i) THERE IS NO RIGHT OR AUTHORITY FOR ANY DISPUTE TO BE ARBITRATED ON A CLASS ACTION BASIS OR TO UTILIZE CLASS ACTION PROCEDURES; (ii) THERE IS NO RIGHT OR AUTHORITY FOR ANY DISPUTE TO BE BROUGHT IN A PURPORTED REPRESENTATIVE CAPACITY OR AS A PRIVATE ATTORNEY GENERAL; AND (iii) NO ARBITRATION MAY BE JOINED WITH ANY OTHER ARBITRATION.
      </p>
      <p>
        The Federal Arbitration Act and federal arbitration law apply to this Agreement and this binding arbitration clause.
      </p>
      <p>
        Arbitration is a process with no judge or jury – an arbitrator will review the arguments in the dispute and award damages and other relief just like a court would. The arbitrator must follow this Agreement as a court otherwise would. Court review of the arbitration award is limited under the Federal Arbitration Act.
      </p>
      <p>
        To start an arbitration, you must send an email to support@networknext.com describing your Claim and requesting arbitration, or we may do the same by sending a written notice requesting arbitration to your address. The proceedings will be conducted through JAMS, using their Streamlined Arbitration Rules and Procedures. You can view these rules at jamsadr.com or by calling 800-352-5267. The payment of the initial filing fees will be made by the party filing the Claim, and any other filing and other fees will be apportioned as directed by the JAMS rules. The arbitration will take place in New York, NY, USA, unless the Parties agree to video, phone, or internet connection appearances.
      </p>
      <p>
        Except as otherwise set forth below, you may seek any remedies available to you under federal, state or local laws in an arbitration action. As part of the arbitration, both you and Network Next will have the opportunity for discovery of non-privileged information that is relevant to the Claim. The arbitrator will provide a written statement of the arbitrator’s decision regarding the Claim, the award given (including any attorneys’ fees and costs awarded), and the arbitrator’s findings and conclusions on which the arbitrator’s decision is based.
      </p>
      <p>
        Notwithstanding the terms of this Section, either of us may bring a lawsuit in court for equitable relief, for any misuse or infringement of intellectual property rights, or for any Claim related to, or arising from, allegations of theft, piracy, invasion of privacy, or unauthorized use of the Service.
      </p>
      <p>
        BY AGREEING TO THIS ARBITRATION PROVISION, YOU UNDERSTAND THAT YOU AND NETWORK NEXT WAIVE THE RIGHT TO SUE IN COURT AND HAVE A JURY TRIAL.
      </p>
      <p>
        You and Network Next agree that if any portion of this Section is found illegal or unenforceable, that portion will be severed and the remainder of the Section will be given full force and effect.
      </p>
      <div class="paragraph-header">
        Miscellaneous Terms
      </div>
      <p>
        <strong>Agreement Revisions:</strong> This Agreement may only be revised in writing by Network Next, or by Network Next’s publication of a new version on the Service.
      </p>
      <p>
        <strong>Force Majeure:</strong> Network Next is not liable for any delay or failure to perform resulting from causes outside the reasonable control of Network Next, including without limitation any failure to perform hereunder due to unforeseen circumstances or cause beyond Network Next’s control such as acts of God, war, terrorism, riots, embargoes, acts of civil or military authorities, fire, floods, accidents, strikes, or shortages of transportation facilities, fuel, energy, labor, or materials.
      </p>
      <p>
        <strong>No Partnership:</strong> You agree that no joint venture, partnership, employment, or agency relationship exists between you and Network Next because of this Agreement or your use of the Service.
      </p>
      <p>
        <strong>Assignment:</strong> Network Next may assign this Agreement, in whole or in part, to any person or entity at any time with or without your consent. You may not assign the Agreement without Network Next’s prior written consent, and any unauthorized assignment by you will be null and void.
      </p>
      <p>
        <strong>Severability:</strong> If any part of this Agreement is determined to be void, invalid or unenforceable, then that portion will be severed, and the remainder of the Agreement will be given full force and effect.
      </p>
      <p>
        <strong>Attorneys’ Fees:</strong> In the event any litigation or dispute resolution is brought by either party in connection with this Agreement, the prevailing party in such litigation will be entitled to recover from the other party all the reasonable costs, attorneys’ fees and other expenses incurred by such prevailing party in the proceedings.
      </p>
      <p>
        <strong>No Waiver:</strong> Our failure to enforce any provision of this Agreement will in no way be construed to be a present or future waiver of such provision, nor in any way affect the right of any party to enforce every such provision thereafter. The express waiver by us of any provision, condition or requirement of this Agreement will not constitute a waiver of any future obligation to comply with such provision, condition or requirement.
      </p>
      <p>
        <strong>Equitable Remedies:</strong> You hereby agree that Network Next would be irreparably damaged if the terms of this Agreement were not specifically enforced, and therefore you agree that we will be entitled, without bond, other security, or proof of damages, to appropriate equitable remedies with respect to breaches of this Agreement, in addition to such other remedies as we may otherwise have available to us under applicable laws.
      </p>
      <p>
        <strong>Entire Agreement:</strong> This Agreement, including your Services Agreement, where applicable, and any other documents expressly incorporated by reference, constitutes the entire agreement between you and Network Next with respect to the Service and supersedes all prior or contemporaneous communications, whether electronic, oral or written, between you and Network Next with respect to the Service.
      </p>
    </template>
    <template v-slot:footer>
      <div class="row">
        <div class="col" style="text-align: center;" v-if="deniable">
          <button class="btn btn-xs btn-secondary" style="max-height: 40px; width: 100px;" @click="deniedBuyerTOS()">
            Deny
          </button>
        </div>
        <div class="col-2" v-if="deniable"></div>
        <div class="col" style="text-align: center;">
          <button class="btn btn-xs btn-success" style="max-height: 40px; width: 100px;" @click="signedBuyerTOS()">
            Accept
          </button>
        </div>
      </div>
    </template>
  </BaseModal>
</template>

<script lang="ts">
import { Component, Vue, Prop } from 'vue-property-decorator'

import BaseModal from '@/components/modals/BaseModal.vue'

/**
 * This component opens up a modal for picking from nested map points
 */

/**
 * TODO: Clean up template
 */

@Component({
  components: {
    BaseModal
  }
})
export default class TermsOfServiceModal extends Vue {
  @Prop({ default: false }) readonly deniable!: boolean

  $refs!: {
    baseModal: BaseModal;
  }

  // These are weird helper methods that act like inherited methods.
  // TODO: There may be a better way of doing inheritance with slots
  //       Would be better if component inherited from BaseModal and
  //       was still able to use slots and access parent functions
  public toggleShowModal () {
    this.$refs.baseModal.toggleShowModal()
  }

  public toggleHideModal () {
    this.$refs.baseModal.toggleHideModal()
  }

  public isVisible () {
    return this.$refs.baseModal.isVisible()
  }

  private signedBuyerTOS () {
    // Update DB on who signed the TOS
    this.$apiService.buyerTOSSigned({
      first_name: this.$store.getters.userProfile.firstName,
      last_name: this.$store.getters.userProfile.lastName,
      email: this.$store.getters.userProfile.email
    })
      .then(() => {
        // If the user is submitting pub key for first time, emit signed event
        if (this.$store.getters.userProfile.buyerID === '') {
          this.$root.$emit('tosSigned')
        }

        // Hide TOS modal
        this.toggleHideModal()
      })
      .catch((error: Error) => {
        console.log('Something went wrong recording signature')
        console.log(error)
      })
  }

  private deniedBuyerTOS () {
    // Hide the modal until next time
    this.toggleHideModal()
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
  li {
    padding-bottom: 1rem;
  }
  .paragraph-header {
    font-size: 16px;
    font-weight: bold;
    padding-bottom: 1rem;
  }
</style>
