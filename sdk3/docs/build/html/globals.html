
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>globals &#8212; Network Next SDK 3.4.5 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="next_address_t" href="next_address_t.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="globals">
<h1>globals<a class="headerlink" href="#globals" title="Permalink to this headline">¶</a></h1>
<div class="section" id="next-config-t">
<h2>next_config_t<a class="headerlink" href="#next-config-t" title="Permalink to this headline">¶</a></h2>
<p>Configuration struct for the Network Next SDK.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">next_config_t</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">hostname</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
    <span class="kt">char</span> <span class="n">customer_public_key</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
    <span class="kt">char</span> <span class="n">customer_private_key</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">socket_send_buffer_size</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">socket_receive_buffer_size</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">disable_network_next</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">disable_packet_tagging</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>hostname</strong> - The hostname for the backend the Network Next SDK is talking to. Typically set to “prod.networknext.com” with your own customer account, or “dev.networknext.com” with the SDK test account.</p>
<p><strong>customer_public_key</strong> - The customer public key as a base64 encoded string.</p>
<p><strong>customer_private_key</strong> - The customer public key as a base64 encoded string.</p>
<p><strong>socket_send_buffer_size</strong> - The size of the socket send buffer in bytes.</p>
<p><strong>socket_receive_buffer_size</strong> - The size of the socket receive buffer in bytes.</p>
<p><strong>disable_network_next</strong> - Set this to true to disable Network Next entirely and always send packets across the public internet.</p>
<p><strong>disable_packet_tagging</strong> - Set this to true to disable DOCSIS 3.1 real-time packet tagging.</p>
</div>
<div class="section" id="next-default-config">
<h2>next_default_config<a class="headerlink" href="#next-default-config" title="Permalink to this headline">¶</a></h2>
<p>Sets default configuration values.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_default_config</span><span class="p">(</span> <span class="n">next_config_t</span> <span class="o">*</span> <span class="n">config</span> <span class="p">);</span>
</pre></div>
</div>
<p>Use this to set default values for config variables, then make only the changes you want on top.</p>
<ul class="simple">
<li><p><strong>hostname</strong> – “prod.networknext.com”</p></li>
<li><p><strong>customer_public_key</strong> – “”</p></li>
<li><p><strong>customer_private_key</strong> – “”</p></li>
<li><p><strong>socket_send_buffer_size</strong> – 1000000</p></li>
<li><p><strong>socket_receive_buffer_size</strong> – 1000000</p></li>
<li><p><strong>disable_network_next</strong> – false</p></li>
<li><p><strong>disable_packet_tagging</strong> – false</p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_config_t</span> <span class="n">config</span><span class="p">;</span>
<span class="n">next_default_config</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">config</span> <span class="p">);</span>
<span class="n">printf</span><span class="p">(</span> <span class="s">&quot;default hostname is %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">config</span><span class="p">.</span><span class="n">hostname</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-init">
<h2>next_init<a class="headerlink" href="#next-init" title="Permalink to this headline">¶</a></h2>
<p>Initializes the Network Next SDK.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">next_init</span><span class="p">(</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">context</span><span class="p">,</span> <span class="n">next_config_t</span> <span class="o">*</span> <span class="n">config</span> <span class="p">);</span>
</pre></div>
</div>
<p>Call this before creating a client or server.</p>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>context</strong> – An optional pointer to context passed to overridden malloc and free for global allocations.</p></li>
<li><p><strong>config</strong> – An optional pointer to the network next configuration. NULL means to use the default configuration.</p></li>
</ul>
</div></blockquote>
<p><strong>Return value:</strong></p>
<blockquote>
<div><p>NEXT_OK if the Network Next SDK initialized successfully, NEXT_ERROR otherwise.</p>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_init</span><span class="p">(</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-term">
<h2>next_term<a class="headerlink" href="#next-term" title="Permalink to this headline">¶</a></h2>
<p>Shuts down the Network Next SDK.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_term</span><span class="p">();</span>
</pre></div>
</div>
<p>Call this before you shut down your application.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_term</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="next-time">
<h2>next_time<a class="headerlink" href="#next-time" title="Permalink to this headline">¶</a></h2>
<p>Gets the current time in seconds.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="nf">next_time</span><span class="p">();</span>
</pre></div>
</div>
<p>IMPORTANT: Only defined when called after <em>next_init</em>.</p>
<p><strong>Return value:</strong></p>
<blockquote>
<div><p>The time in seconds since <em>next_init</em> was called.</p>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_init</span><span class="p">(</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">);</span>

<span class="c1">// .. do stuff ...</span>

<span class="n">printf</span><span class="p">(</span> <span class="s">&quot;%.2f seconds since next_init</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">next_time</span><span class="p">()</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-sleep">
<h2>next_sleep<a class="headerlink" href="#next-sleep" title="Permalink to this headline">¶</a></h2>
<p>Sleep for some amount of time.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_sleep</span><span class="p">(</span> <span class="kt">double</span> <span class="n">time_seconds</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>time_seconds</strong> – The length of time to sleep in seconds.</p></li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_init</span><span class="p">(</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">);</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">start_time</span> <span class="o">=</span> <span class="n">next_time</span><span class="p">();</span>

<span class="n">next_sleep</span><span class="p">(</span> <span class="mf">10.0</span> <span class="p">);</span>

<span class="k">const</span> <span class="kt">double</span> <span class="n">finish_time</span> <span class="o">=</span> <span class="n">next_time</span><span class="p">();</span>

<span class="n">printf</span><span class="p">(</span> <span class="s">&quot;slept for %.2f seconds</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">finish_time</span> <span class="o">-</span> <span class="n">start_time</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-printf">
<h2>next_printf<a class="headerlink" href="#next-printf" title="Permalink to this headline">¶</a></h2>
<p>Log level aware printf.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_printf</span><span class="p">(</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">format</span><span class="p">,</span> <span class="p">...</span> <span class="p">);</span>
</pre></div>
</div>
<p>Log levels:</p>
<ul class="simple">
<li><p>NEXT_LOG_LEVEL_NONE (0)</p></li>
<li><p>NEXT_LOG_LEVEL_ERROR (1)</p></li>
<li><p>NEXT_LOG_LEVEL_INFO (2)</p></li>
<li><p>NEXT_LOG_LEVEL_WARN (3)</p></li>
<li><p>NEXT_LOG_LEVEL_DEBUG (4)</p></li>
</ul>
<p><strong>Parameters:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>level</strong> – Log level. Only logs &lt;= the current log level are printed.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="next-assert">
<h2>next_assert<a class="headerlink" href="#next-assert" title="Permalink to this headline">¶</a></h2>
<p>Assert.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_assert</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">condition</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">next_assert</span><span class="p">(</span> <span class="nb">true</span> <span class="o">!=</span> <span class="nb">false</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-quiet">
<h2>next_quiet<a class="headerlink" href="#next-quiet" title="Permalink to this headline">¶</a></h2>
<p>Enable/disable network next logs entirely.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_quiet</span><span class="p">(</span> <span class="kt">bool</span> <span class="n">flag</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// shut up network next!</span>
<span class="n">next_quiet</span><span class="p">(</span> <span class="nb">true</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-log-level">
<h2>next_log_level<a class="headerlink" href="#next-log-level" title="Permalink to this headline">¶</a></h2>
<p>Sets the Network Next log level.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_log_level</span><span class="p">(</span> <span class="kt">int</span> <span class="n">level</span> <span class="p">);</span>
</pre></div>
</div>
<p>Log levels:</p>
<ul class="simple">
<li><p>NEXT_LOG_LEVEL_NONE (0)</p></li>
<li><p>NEXT_LOG_LEVEL_ERROR (1)</p></li>
<li><p>NEXT_LOG_LEVEL_INFO (2)</p></li>
<li><p>NEXT_LOG_LEVEL_WARN (3)</p></li>
<li><p>NEXT_LOG_LEVEL_DEBUG (4)</p></li>
</ul>
<p>The default log level is info. This includes both info messages and errors, which are both infrequent.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// unleash the kraken!</span>
<span class="n">next_set_log_level</span><span class="p">(</span> <span class="n">NEXT_LOG_LEVEL_DEBUG</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-log-function">
<h2>next_log_function<a class="headerlink" href="#next-log-function" title="Permalink to this headline">¶</a></h2>
<p>Sets a custom log function.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_log_function</span><span class="p">(</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">function</span><span class="p">)(</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">format</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">extern</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="nf">log_level_string</span><span class="p">(</span> <span class="kt">int</span> <span class="n">level</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">level</span> <span class="o">==</span> <span class="n">NEXT_LOG_LEVEL_DEBUG</span> <span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;debug&quot;</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">level</span> <span class="o">==</span> <span class="n">NEXT_LOG_LEVEL_INFO</span> <span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;info&quot;</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">level</span> <span class="o">==</span> <span class="n">NEXT_LOG_LEVEL_ERROR</span> <span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;error&quot;</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">level</span> <span class="o">==</span> <span class="n">NEXT_LOG_LEVEL_WARN</span> <span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;warning&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="s">&quot;???&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">log_function</span><span class="p">(</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">format</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">va_list</span> <span class="n">args</span><span class="p">;</span>
    <span class="n">va_start</span><span class="p">(</span> <span class="n">args</span><span class="p">,</span> <span class="n">format</span> <span class="p">);</span>
    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
    <span class="n">vsnprintf</span><span class="p">(</span> <span class="n">buffer</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span> <span class="n">buffer</span> <span class="p">),</span> <span class="n">format</span><span class="p">,</span> <span class="n">args</span> <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">level</span> <span class="o">!=</span> <span class="n">NEXT_LOG_LEVEL_NONE</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">level_string</span> <span class="o">=</span> <span class="n">log_level_string</span><span class="p">(</span> <span class="n">level</span> <span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;%.2f: %s: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">next_time</span><span class="p">(),</span> <span class="n">level_string</span><span class="p">,</span> <span class="n">buffer</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">buffer</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="n">va_end</span><span class="p">(</span> <span class="n">args</span> <span class="p">);</span>
    <span class="n">fflush</span><span class="p">(</span> <span class="n">stdout</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">next_log_function</span><span class="p">(</span> <span class="n">log_function</span> <span class="p">);</span>

    <span class="n">next_init</span><span class="p">(</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">);</span>

    <span class="n">next_printf</span><span class="p">(</span> <span class="n">NEXT_LOG_LEVEL_INFO</span><span class="p">,</span> <span class="s">&quot;Hi, Mum!&quot;</span> <span class="p">);</span>

    <span class="n">next_term</span><span class="p">();</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="next-assert-function">
<h2>next_assert_function<a class="headerlink" href="#next-assert-function" title="Permalink to this headline">¶</a></h2>
<p>Set a custom assert handler.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_assert_function</span><span class="p">(</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">function</span><span class="p">)(</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">condition</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">function</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="kt">int</span> <span class="n">line</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">assert_function</span><span class="p">(</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">condition</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">function</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">file</span><span class="p">,</span> <span class="kt">int</span> <span class="n">line</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">next_printf</span><span class="p">(</span> <span class="s">&quot;assert failed: ( %s ), function %s, file %s, line %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">condition</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">line</span> <span class="p">);</span>
    <span class="n">fflush</span><span class="p">(</span> <span class="n">stdout</span> <span class="p">);</span>
    <span class="cp">#if defined(_MSC_VER)</span>
        <span class="n">__debugbreak</span><span class="p">();</span>
    <span class="cp">#elif defined(__ORBIS__)</span>
        <span class="n">__builtin_trap</span><span class="p">();</span>
    <span class="cp">#elif defined(__clang__)</span>
        <span class="n">__builtin_debugtrap</span><span class="p">();</span>
    <span class="cp">#elif defined(__GNUC__)</span>
        <span class="n">__builtin_trap</span><span class="p">();</span>
    <span class="cp">#elif defined(linux) || defined(__linux) || defined(__linux__) || defined(__APPLE__)</span>
        <span class="n">raise</span><span class="p">(</span><span class="n">SIGTRAP</span><span class="p">);</span>
    <span class="cp">#else</span>
        <span class="cp">#error &quot;asserts not supported on this platform!&quot;</span>
    <span class="cp">#endif</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="next-allocator">
<h2>next_allocator<a class="headerlink" href="#next-allocator" title="Permalink to this headline">¶</a></h2>
<p>Sets a custom allocator.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">next_allocator</span><span class="p">(</span> <span class="kt">void</span> <span class="o">*</span> <span class="p">(</span><span class="o">*</span><span class="n">malloc_function</span><span class="p">)(</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">context</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">bytes</span> <span class="p">),</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">free_function</span><span class="p">)(</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">context</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">p</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="o">*</span> <span class="nf">malloc_function</span><span class="p">(</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">context</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">bytes</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">malloc</span><span class="p">(</span> <span class="n">bytes</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">free_function</span><span class="p">(</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">context</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span> <span class="n">p</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">free</span><span class="p">(</span> <span class="n">p</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">next_allocator</span><span class="p">(</span> <span class="n">malloc_function</span><span class="p">,</span> <span class="n">free_function</span> <span class="p">);</span>

    <span class="n">next_init</span><span class="p">(</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">);</span>

    <span class="c1">// ... do stuff ...</span>

    <span class="n">next_term</span><span class="p">();</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="next-user-id-string">
<h2>next_user_id_string<a class="headerlink" href="#next-user-id-string" title="Permalink to this headline">¶</a></h2>
<p>Converts a legacy uint64_t user id to a string.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="nf">next_user_id_string</span><span class="p">(</span> <span class="kt">uint64_t</span> <span class="n">user_id</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">buffer</span> <span class="p">);</span>
</pre></div>
</div>
<p>Used to migrate from old uint64_t user ids to the new string based ids.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="n">next_server_upgrade_session</span><span class="p">(</span> <span class="n">server</span><span class="p">,</span> <span class="n">client_address</span><span class="p">,</span> <span class="n">next_user_id_string</span><span class="p">(</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">buffer</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="next-is-network-next-packet">
<h2>next_is_network_next_packet<a class="headerlink" href="#next-is-network-next-packet" title="Permalink to this headline">¶</a></h2>
<p>Checks if a packet was generated by Network Next.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="nf">next_is_network_next_packet</span><span class="p">(</span> <span class="k">const</span> <span class="kt">uint8_t</span> <span class="o">*</span> <span class="n">packet_data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">packet_bytes</span> <span class="p">);</span>
</pre></div>
</div>
<p>All Network Next SDK packets between your client and server are prefixed with an 8 byte blake2b hash of the packet contents.</p>
<p>This function is useful if you need to run versions of your client or server <em>without</em> the Network Next SDK sending and receiving packets on your behalf. In this situation, call this function to ignore any packets that belong to the Network Next SDK.</p>
<p><strong>Example:</strong></p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">next_is_network_next_packet</span><span class="p">(</span> <span class="n">packet_data</span><span class="p">,</span> <span class="n">packet_bytes</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// process by game</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="c1">// ignore packet</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Network Next SDK</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_the_sdk.html">Building the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple_client_example.html">Simple Client Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple_server_example.html">Simple Server Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgraded_client_example.html">Upgraded Client Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgraded_server_example.html">Upgraded Server Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex_client_example.html">Complex Client Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex_server_example.html">Complex Server Example</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="reference.html">Reference</a><ul>
      <li>Previous: <a href="next_address_t.html" title="previous chapter">next_address_t</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Network Next, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/globals.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>